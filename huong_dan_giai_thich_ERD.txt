HƯỚNG DẪN GIẢI THÍCH SƠ ĐỒ ERD - HỆ THỐNG ĐẶT VÀ GIAO ĐỒ ĂN


BƯỚC 1: GIỚI THIỆU TỔNG QUAN (30 giây)

"Sơ đồ ERD này mô tả cơ sở dữ liệu của hệ thống đặt và giao đồ ăn trực tuyến, gồm 8 thực thể chính: USERS, SHOPS, PRODUCTS, ORDERS, ORDER_ITEMS, CART, REVIEWS và PAYMENTS."


BƯỚC 2: GIẢI THÍCH TỪNG THỰC THỂ THEO LUỒNG NGHIỆP VỤ (2-3 phút)

Bắt đầu từ USERS → theo luồng đặt hàng:

1. USERS (Người dùng) - Trung tâm hệ thống
   "Bảng USERS lưu thông tin tất cả người dùng với các vai trò: khách hàng, người bán, shipper. Từ đây tỏa ra các mối quan hệ chính."

2. SHOPS (Cửa hàng) - Quan hệ "sở_hữu" với USERS
   "Một người dùng (seller) sở hữu một cửa hàng. Quan hệ 1:1."

3. PRODUCTS (Sản phẩm) - Quan hệ "thuộc_shop" với SHOPS
   "Một cửa hàng có nhiều sản phẩm. Quan hệ 1:n."

4. CART (Giỏ hàng) - Quan hệ với USERS và PRODUCTS
   "Khách hàng thêm sản phẩm vào giỏ. USERS --(1:n)-- CART --(n:1)-- PRODUCTS"

5. ORDERS (Đơn hàng) - Trung tâm giao dịch
   "Đơn hàng liên kết 3 bên: khách hàng đặt, cửa hàng bán, shipper giao."
   - USERS đặt_hàng ORDERS (1:n)
   - USERS giao_hàng ORDERS (1:n) 
   - SHOPS bán ORDERS (1:n)

6. ORDER_ITEMS (Chi tiết đơn hàng) - Quan hệ "chứa"
   "Một đơn hàng chứa nhiều sản phẩm. Bảng trung gian lưu số lượng, giá."

7. REVIEWS (Đánh giá) - Quan hệ "review_order"
   "Sau khi nhận hàng, khách đánh giá đơn hàng. Quan hệ 1:1 với ORDERS."

8. PAYMENTS (Thanh toán) - Quan hệ "thanh_toán"
   "Mỗi đơn hàng có thể có nhiều giao dịch thanh toán. Quan hệ 1:n."


BƯỚC 3: GIẢI THÍCH KÝ HIỆU BẢN SỐ (30 giây)

1:1  = Một - Một (VD: 1 seller sở hữu 1 shop)
1:n  = Một - Nhiều (VD: 1 shop có nhiều products)
0:n  = Không hoặc Nhiều (VD: 1 user có thể có 0 hoặc nhiều orders)
0:1  = Không hoặc Một (VD: 1 order có thể có 0 hoặc 1 shipper)


BƯỚC 4: TÓM TẮT LUỒNG DỮ LIỆU (30 giây)

"Tóm lại, luồng dữ liệu chính:
USERS → tạo SHOPS → thêm PRODUCTS
USERS → thêm CART → tạo ORDERS → chi tiết ORDER_ITEMS
ORDERS → thanh toán PAYMENTS → đánh giá REVIEWS"


MẸO THUYẾT TRÌNH NHANH

1. Dùng tay chỉ vào sơ đồ khi nói
2. Đi theo luồng nghiệp vụ, không nhảy lung tung
3. Nhấn mạnh các quan hệ quan trọng: USERS-ORDERS-SHOPS
4. Giải thích ý nghĩa thực tế, không chỉ đọc tên bảng


CÂU MẪU KHI BỊ HỎI

Q: "Tại sao ORDERS có 3 khóa ngoại đến USERS?"
A: "Vì đơn hàng liên quan đến 3 người dùng khác nhau: customer_id là người đặt, shipper_id là người giao, và shop có user_id là người bán."

Q: "ORDER_ITEMS để làm gì?"
A: "Đây là bảng trung gian giữa ORDERS và PRODUCTS, lưu chi tiết từng sản phẩm trong đơn: số lượng, giá tại thời điểm mua, thành tiền."

Q: "Tại sao dùng ENUM?"
A: "ENUM giới hạn giá trị nhập vào, ví dụ status chỉ có thể là 'active', 'pending', 'blocked', tránh sai sót dữ liệu."


SƠ ĐỒ QUAN HỆ ĐƠN GIẢN

USERS ──1:1── SHOPS ──1:n── PRODUCTS
  │              │              │
  │1:n           │1:n           │1:n
  ▼              ▼              ▼
CART ◄────────────────────── cart_products
  │
  │
ORDERS ──1:n── ORDER_ITEMS ──n:1── PRODUCTS
  │
  ├──1:n── PAYMENTS
  │
  └──1:1── REVIEWS
